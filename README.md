<details>
<summary>Скриншоты (нажмите, чтобы развернуть)</summary>

![image](https://github.com/SnappsiSnappes/complains/assets/111605401/4963745e-2874-4505-a403-e11e8d4e7e3e)
![image](https://github.com/SnappsiSnappes/complains/assets/111605401/58749dfd-ccd5-4d2f-85a3-89ad9b4229ec)
![image](https://github.com/SnappsiSnappes/complains/assets/111605401/d281070a-d825-4528-9b19-0d8944f1997b)
![image](https://github.com/SnappsiSnappes/complains/assets/111605401/c30b952e-609b-4d6f-9a04-e6b5d27ccb7e)
![image](https://github.com/SnappsiSnappes/complains/assets/111605401/e718722e-b078-4abc-8fae-d9b518d788be)
![screencapture-localhost-8077-getter-php-2023-11-14-15_46_01](https://github.com/SnappsiSnappes/complains/assets/111605401/88c50547-54b8-446e-8f1b-40058c4e12dd)



</details>



# Краткое описание
Веб-приложение, разработанное на чистом PHP. Основная идея заключается в следующем:
- Существуют 3 роли: менеджер, администратор и гость.
- Менеджер загружает жалобу, заполняет форму и прикладывает файлы. При этом он:
  1) Может удалить свою жалобу.
  2) Может комментировать свою жалобу и удалять свой комментарий.
  3) Может просматривать список своих жалоб.
  4) Может редактировать свою жалобу.
- Администратор принимает решение о публикации.
- Гость может просмотреть опубликованные жалобы, комментировать их и зарегистрироваться, чтобы стать менеджером.

## Важные детали
1) Существуют две компании, каждая со своим администратором и почтовым ящиком.
2) Администраторы видят только те жалобы, которые относятся к их компании. Разделение происходит на основе данных, предоставленных менеджером (в данном случае, по полю в форме 'Обслуживает').
3) Администраторы могут отправить текст и файлы из жалобы себе на почту, нажав на кнопку. Почтовый ящик выбирается по полю в форме 'Договор с'.
4) Администратор видит все списки жалоб, может комментировать жалобы и удалять комментарии гостя.
5) Администратор может редактировать жалобу.
6) Администратор может отклонить жалобу с указанием причины отклонения. В этом случае пользователь увидит сообщение.
   

## Возможности
- Весь проект настроен на Docker.
- Используется phpMyAdmin.
- Авторизация реализована с использованием реляционной базы данных.
- Роли с дозированным контролем доступа.
- Хранение файлов взаимодействует с базой данных. Сами файлы хранятся в папке img, а названия файлов хранятся в базе данных.
- Комментарии хранятся в базе данных.
- Frontend разработан на Bootstrap 5.3, backend - на MySQL через PHP PDO.
- Есть переключатель темной темы.
- Реализована пагинация объектов жалоб и комментариев.
- Поиск жалоб по номеру.
- В некоторых местах применяется ajax.
- В комментарии можно отправлять картинки, реализован просмотр картинок , благодаря либре на JS . У картинок в комментариях есть id , они сохраняются в папке с жалобой.
- Можно делать сколько угодно жалоб на один и тот же магазин, можно видеть количество созданых жалоб на одном и том же магазине вот в таком виде (их может быть сколько угодно) :
- ![image](https://github.com/SnappsiSnappes/complains/assets/111605401/7a3f3dd2-9595-49b3-a7b6-1d6ca152b5ce)


## Запуск
1) Запустите Docker Compose командой `sudo docker-compose up` или просто `docker-compose`.
2) Откройте http://localhost:8077.
   - Войдите в систему с логином 'admin' и паролем 'admin'.
3) phpMyAdmin доступен по адресу http://localhost:8078/.
  - Сервер: db_service_complains
  - root
  - root


